<!DOCTYPE html><html lang="en"><head><meta charSet="utf-8"/><meta name="viewport" content="width=device-width, initial-scale=1"/><link rel="preload" href="/_next/static/media/569ce4b8f30dc480-s.p.woff2" as="font" crossorigin="" type="font/woff2"/><link rel="preload" href="/_next/static/media/93f479601ee12b01-s.p.woff2" as="font" crossorigin="" type="font/woff2"/><link rel="preload" as="image" href="/posts/03/TDD.png"/><link rel="preload" as="image" href="/posts/03/god.png"/><link rel="preload" as="image" href="/posts/03/test-coverage.png"/><link rel="preload" as="image" href="/posts/03/test-coverage-web.png"/><link rel="preload" as="image" href="/posts/03/test-coverage-error.png"/><link rel="stylesheet" href="/_next/static/css/2c42acc71327936e.css" data-precedence="next"/><link rel="preload" as="script" fetchPriority="low" href="/_next/static/chunks/webpack-b35b1857bf38ffc8.js"/><script src="/_next/static/chunks/4bd1b696-2bfa57da125389e3.js" async=""></script><script src="/_next/static/chunks/587-c7f2815ecf19825a.js" async=""></script><script src="/_next/static/chunks/main-app-f803f0036d3a6c59.js" async=""></script><script src="/_next/static/chunks/app/posts/%5Bslug%5D/page-a41ebe43e93e6584.js" async=""></script><meta name="next-size-adjust" content=""/><title>My Blog</title><meta name="description" content="Sandy&#x27;s Blog"/><script src="/_next/static/chunks/polyfills-42372ed130431b0a.js" noModule=""></script></head><body class="__variable_4d318d __variable_ea5f4b antialiased"><div class="mx-auto flex min-h-screen max-w-screen-xl flex-col px-4 sm:px-6 md:px-8 lg:px-12"><header class="container mx-auto max-w-screen-md p-4"><a href="/">Hello, World</a></header><main class="container mx-auto max-w-screen-md flex-1 p-4"><section class="flex h-full w-full flex-wrap rounded-lg bg-gray-200 p-5"><article class="flex w-full flex-wrap pb-5"><div class="flex flex-1 flex-wrap gap-2"><h3 class="text-lg font-semibold text-gray-800">TDD 에서의 Jest - test coverage</h3><p class="ml-auto text-sm text-gray-800">2025-03-23 23:50:00</p></div></article><article class="prose flex w-full flex-wrap text-gray-800"><h5 class="text-lg font-normal text-gray-800">시작하기</h5>
<p>이번 주 스터디의 주제는 TDD로 정하게 되었다.
사실 TDD라는 주제라기보다는 TDD를 하기 위해 사용하고 있는 Jest가 주인공이긴 하지만, 이왕 하는 김에 TDD에 대한 설명도 간단하게 적어보려고 한다.</p>
<p>우리 프로젝트는 현재 애자일 프로그래밍 개발 방법 중 XP(eXtreme Programming) 개발 방식으로 프로젝트를 진행하고 있는데,</p>
<p>이 XP의 실천 방법 중 하나가 바로 <code>Test Driven Development, 즉 TDD</code>이다.</p>
<p>익스트림 프로그래밍이나 애자일에 대한 설명은 다음에 다른 글로 작성해보도록 하고, 오늘의 주제인 TDD로 넘어가 보자.</p>
<h3 class="text-2xl font-medium text-red-500">TDD</h3>
<p><code>TDD?</code> <code>Test Driven Development!</code></p>
<p>이름 그대로다. 테스트 주도 개발.
TDD를 주도한 켄트 벡 이라는 분이 TDD를 소개한 책에서는 <code>테스트 주도 개발의 궁극적 목표는 작동하는 깔끔한 코드</code>라고 한다.</p>
<p>작동하는 + 깔끔한 코드는 사실 개발자라면 모두 지향해야 하는 두 가지의 단어들을 모아둔 것 같은데,</p>
<p>이러한 작동하는 깔끔한 코드를 작성하기 위해서는 3가지의 사이클을 통해서 구현할 수 있다.</p>
<p>아마 이 사진은 TDD를 한 번쯤 검색했다면 마주쳤을 그림이라고 생각한다.
<img src="/posts/03/TDD.png" alt="TDD"/></p>
<ol>
<li>RED: 먼저 실패하는 테스트를 작성한다.</li>
<li>GREEN: 실패한 테스트 코드를 성공시키기 위한 실제 코드를 구현한다.</li>
<li>BLUE: 테스트를 통과하기 위해 작성했던 잘못들을 수습하자. (리팩토링)</li>
</ol>
<p>지금 진행하는 프로젝트는 TDD 방식으로 구현하고 있는데, TDD에 대한 글을 작성하다 보니 내가 놓치고 있는 부분이 있다는 것을 깨닫게 되었다.</p>
<p>두 번째 과정인 GREEN에서는 주의해야 할 점이 있는데, 실패하는 테스트는 최대한 빠르게 성공시키는 데에만 집중을 해야 한다.
그러다 보면 테스트 코드를 통과시키기만 위한 코드를 작성하게 되는데, 켄트 벡 아저씨는 이것을 죄악이라고 표현하기도 한다.</p>
<p>내가 놓치고 있던 부분은 이러한 죄악을 만들지 않으려는 노력만 했기 때문에, GREEN 과정에서의 시간이 매우 많이 소요되었던 것 같다는 생각이 들었다.</p>
<p>사실 처음 TDD에 대한 설명을 들었을 때 GREEN을 보기 위한 죄악을 저지른 이후에 BLUE 과정에서 이러한 죄악을 수습하는 과정을 거쳐야 한다는 것은 알고 있었지만,</p>
<p>프로젝트를 진행하다 보니 스토리가 익숙한 것들도 있고, 이 작업 이후에 어떤 작업이 필요할지 파악이 가능한 단계가 되다 보니 이후를 생각한 완벽한 코드를 작성하고 싶었던 나머지 그 부분을 놓치고 있었던 것 같다.</p>
<p>아무튼 본론으로 돌아가서, 작동하는 깔끔한 코드를 작성하자는 좋은 목표를 가진 TDD를, 그래서 다들 사용하고 있나? 라고 물어보면, 아니라는 답변이 나올 것이다.
주변의 개발자들만 봐도 시간도 없는데 테스트를 위한 코드를 작성해야 하는 것에 대한 필요성을 느끼지 못하는 사람들도 있었고, 그러다 보니 굳이 TDD 자체가 필요한지에 대한 것을 느끼지 못한 사람들도 있었다.</p>
<p>하지만, TDD를 사용해 본 나의 경험에 비추어 보면, 어떠한 프로젝트를 처음부터 시작한다고 하더라도 TDD는 항상 사용할 것 같다.</p>
<p>위에서 간단하게 말했던 TDD의 단점인 개발 속도(생산성)의 저하라든지 테스트를 위한 코드를 작성해야 한다는 점 같은 단점도 존재하긴 하지만,
프로젝트를 하면서 TDD의 필요성, 장점을 느낀 적이 더 많았던 것 같다.</p>
<p>내가 느꼈던 TDD의 장점을 설명하기에 앞서 발견한 재밌는 밈이 있는데,</p>
<p><img src="/posts/03/god.png" alt="only-god"/></p>
<p>이 말대로 본인이 구현했던 코드를 하나부터 열까지 모두 기억하고 있는 사람은 많지 않을 것이라고 생각한다.</p>
<p>일단 나조차도 기억력이 좋지 않기 때문에 한 달 전에 구현했던 기능 기억? 흐릿하게나 기억할 수는 있겠지...</p>
<p>그런 나에게 믿을 수 있는 건 바로 <strong>테스트 코드</strong>였다. 테스트 코드는 한마디로 말하자면 자세하게 쓰여 있는 기능 문서이다.</p>
<p>내가 어떤 기능을 테스트하기 위해 작성해 놓은 description을 보고 코드에 대한 기능들을 파악할 수 있고,</p>
<p>추가적인 기능을 구현하더라도 그 테스트를 실패시키지 않는 코드를 구현하게 된다면 버그를 최소한으로 줄일 수 있다는 강력한 장점이 있다고 생각한다.</p>
<hr/>
<p>아무튼 간단하게 TDD에 대한 생각들을 적어봤는데, 구구절절 TDD에 대한 설명을 하고 이 블로그 주제를 정하게 된 계기가 있다.</p>
<p>나는 과연 2년 전, 응ㅇㅐ-시절인 주니어 때 처음으로 접한 TDD를 잘 하고 있나? 라는 생각과 함께,</p>
<p>Spring Boot나 React에 대해서는 공부를 해왔던 것 같은데, 테스트 코드를 구현하는 Jest와 JUnit에 대해서는 공부량이 적었던 것 같아서 아쉬움이 들었다.</p>
<p>그래서 이번 주제는 Jest 에 대한 것들을 알아가 보려고 하는데, 궁금한 것이 많지만 차근차근 공부해보려고 한다.</p>
<h3 class="text-2xl font-medium text-red-500">Test Coverage</h3>
<p>먼저 이건 간단한 궁금증인데,</p>
<p>우리 프로젝트에 처음 들어왔을 때 jest 를 사용해서 테스트 할 때, <code>yarn test --coverage</code> 명령어를 통해 테스트 하면 된다는 말을 전해들었었다.</p>
<p>그래서 그때당시에 조금 찾아봤었던 테스트 커버리지는 전체 코드에서 얼만큼의 코드가 테스트되고 있는지 나타내주는 지표라는 것과 함께
테스트 커버리지가 높을 수록 많은 부분이 테스트 코드로 구현되어 있으므로 사용자가 조금 더 신뢰할 수 있는 시스템이지 않을까 정도 까지만 알아보았던 것 같다.</p>
<p>Jest 에서는 <code>jest --coverage</code> 명령어로 테스트 커버리지를 테스트 할 수 있는데,</p>
<p><img src="/posts/03/test-coverage.png" alt="test-coverage"/></p>
<p>각각의 의미는</p>
<ul>
<li>Statements: 구문</li>
<li>Branches: if=else 문 등 분기점</li>
<li>Functions: 함수</li>
<li>Lines: 코드 줄 수</li>
<li>Uncovered Line #s: 커버되지 않은 줄 위치</li>
</ul>
<p>웹에서도 테스트 커버리지를 자세히 확인할 수도 있다.</p>
<p><img src="/posts/03/test-coverage-web.png" alt="test-coverage-web"/></p>
<p>우리 서비스는 테스트 커버리지를 크게 신경쓰고 있진 않지만,
만약 커버리지를 조금 신경을 쓰고 최소 기준점을 정해두는 프로젝트에서는 <code>jest.config.ts</code>에 <code>coverageThreshold</code> 설정을 추가하고,</p>
<pre><code class="language-js">module.exports = {
  coverageThreshold: {
    global: {
      branches: 90,
      functions: 90,
      lines: 90,
      statements: 90,
    },
  },
};
</code></pre>
<p><code>jest --coverage</code>를 CI/CD에 추가한다면 에러가 발생하게 되고,</p>
<p><img src="/posts/03/test-coverage-error.png" alt="test-coverage-error"/></p>
<p>기준에 미달한 상태에서는 운영에 배포할 수 없도록 설정할 수도 있을 것이다.</p>
<hr/>
<p>글을 쓰다보니 주제가 점점 넓어지는 것을 느끼는데 항상 글의 마무리가 너무 어려운 것 같다.</p></article></section></main><footer class="flex h-10 w-full flex-col items-center justify-center"><span class="text-xs">Copyright © <!-- -->2025<!-- --> Sandy</span></footer></div><script src="/_next/static/chunks/webpack-b35b1857bf38ffc8.js" async=""></script><script>(self.__next_f=self.__next_f||[]).push([0])</script><script>self.__next_f.push([1,"1:\"$Sreact.fragment\"\n2:I[8173,[\"858\",\"static/chunks/app/posts/%5Bslug%5D/page-a41ebe43e93e6584.js\"],\"\"]\n4:I[5244,[],\"\"]\n5:I[3866,[],\"\"]\n7:I[6213,[],\"OutletBoundary\"]\na:I[6213,[],\"ViewportBoundary\"]\nc:I[6213,[],\"MetadataBoundary\"]\ne:I[4835,[],\"\"]\n:HL[\"/_next/static/media/569ce4b8f30dc480-s.p.woff2\",\"font\",{\"crossOrigin\":\"\",\"type\":\"font/woff2\"}]\n:HL[\"/_next/static/media/93f479601ee12b01-s.p.woff2\",\"font\",{\"crossOrigin\":\"\",\"type\":\"font/woff2\"}]\n:HL[\"/_next/static/css/2c42acc71327936e.css\",\"style\"]\n"])</script><script>self.__next_f.push([1,"0:{\"P\":null,\"b\":\"1mNPG14sdWmYNAC9O3TYh\",\"p\":\"\",\"c\":[\"\",\"posts\",\"03_TDD\"],\"i\":false,\"f\":[[[\"\",{\"children\":[\"posts\",{\"children\":[[\"slug\",\"03_TDD\",\"d\"],{\"children\":[\"__PAGE__\",{}]}]}]},\"$undefined\",\"$undefined\",true],[\"\",[\"$\",\"$1\",\"c\",{\"children\":[[[\"$\",\"link\",\"0\",{\"rel\":\"stylesheet\",\"href\":\"/_next/static/css/2c42acc71327936e.css\",\"precedence\":\"next\",\"crossOrigin\":\"$undefined\",\"nonce\":\"$undefined\"}]],[\"$\",\"html\",null,{\"lang\":\"en\",\"children\":[\"$\",\"body\",null,{\"className\":\"__variable_4d318d __variable_ea5f4b antialiased\",\"children\":[\"$\",\"div\",null,{\"className\":\"mx-auto flex min-h-screen max-w-screen-xl flex-col px-4 sm:px-6 md:px-8 lg:px-12\",\"children\":[[\"$\",\"header\",null,{\"className\":\"container mx-auto max-w-screen-md p-4\",\"children\":[\"$\",\"$L2\",null,{\"href\":\"/\",\"children\":\"Hello, World\"}]}],\"$L3\",[\"$\",\"footer\",null,{\"className\":\"flex h-10 w-full flex-col items-center justify-center\",\"children\":[\"$\",\"span\",null,{\"className\":\"text-xs\",\"children\":[\"Copyright © \",2025,\" Sandy\"]}]}]]}]}]}]]}],{\"children\":[\"posts\",[\"$\",\"$1\",\"c\",{\"children\":[null,[\"$\",\"$L4\",null,{\"parallelRouterKey\":\"children\",\"error\":\"$undefined\",\"errorStyles\":\"$undefined\",\"errorScripts\":\"$undefined\",\"template\":[\"$\",\"$L5\",null,{}],\"templateStyles\":\"$undefined\",\"templateScripts\":\"$undefined\",\"notFound\":\"$undefined\",\"forbidden\":\"$undefined\",\"unauthorized\":\"$undefined\"}]]}],{\"children\":[[\"slug\",\"03_TDD\",\"d\"],[\"$\",\"$1\",\"c\",{\"children\":[null,[\"$\",\"$L4\",null,{\"parallelRouterKey\":\"children\",\"error\":\"$undefined\",\"errorStyles\":\"$undefined\",\"errorScripts\":\"$undefined\",\"template\":[\"$\",\"$L5\",null,{}],\"templateStyles\":\"$undefined\",\"templateScripts\":\"$undefined\",\"notFound\":\"$undefined\",\"forbidden\":\"$undefined\",\"unauthorized\":\"$undefined\"}]]}],{\"children\":[\"__PAGE__\",[\"$\",\"$1\",\"c\",{\"children\":[\"$L6\",\"$undefined\",null,[\"$\",\"$L7\",null,{\"children\":[\"$L8\",\"$L9\",null]}]]}],{},null,false]},null,false]},null,false]},null,false],[\"$\",\"$1\",\"h\",{\"children\":[null,[\"$\",\"$1\",\"v8BQf1fwPAnOp24bGHehQ\",{\"children\":[[\"$\",\"$La\",null,{\"children\":\"$Lb\"}],[\"$\",\"meta\",null,{\"name\":\"next-size-adjust\",\"content\":\"\"}]]}],[\"$\",\"$Lc\",null,{\"children\":\"$Ld\"}]]}],false]],\"m\":\"$undefined\",\"G\":[\"$e\",\"$undefined\"],\"s\":false,\"S\":true}\n"])</script><script>self.__next_f.push([1,"3:[\"$\",\"main\",null,{\"className\":\"container mx-auto max-w-screen-md flex-1 p-4\",\"children\":[\"$\",\"$L4\",null,{\"parallelRouterKey\":\"children\",\"error\":\"$undefined\",\"errorStyles\":\"$undefined\",\"errorScripts\":\"$undefined\",\"template\":[\"$\",\"$L5\",null,{}],\"templateStyles\":\"$undefined\",\"templateScripts\":\"$undefined\",\"notFound\":[[[\"$\",\"title\",null,{\"children\":\"404: This page could not be found.\"}],[\"$\",\"div\",null,{\"style\":{\"fontFamily\":\"system-ui,\\\"Segoe UI\\\",Roboto,Helvetica,Arial,sans-serif,\\\"Apple Color Emoji\\\",\\\"Segoe UI Emoji\\\"\",\"height\":\"100vh\",\"textAlign\":\"center\",\"display\":\"flex\",\"flexDirection\":\"column\",\"alignItems\":\"center\",\"justifyContent\":\"center\"},\"children\":[\"$\",\"div\",null,{\"children\":[[\"$\",\"style\",null,{\"dangerouslySetInnerHTML\":{\"__html\":\"body{color:#000;background:#fff;margin:0}.next-error-h1{border-right:1px solid rgba(0,0,0,.3)}@media (prefers-color-scheme:dark){body{color:#fff;background:#000}.next-error-h1{border-right:1px solid rgba(255,255,255,.3)}}\"}}],[\"$\",\"h1\",null,{\"className\":\"next-error-h1\",\"style\":{\"display\":\"inline-block\",\"margin\":\"0 20px 0 0\",\"padding\":\"0 23px 0 0\",\"fontSize\":24,\"fontWeight\":500,\"verticalAlign\":\"top\",\"lineHeight\":\"49px\"},\"children\":404}],[\"$\",\"div\",null,{\"style\":{\"display\":\"inline-block\"},\"children\":[\"$\",\"h2\",null,{\"style\":{\"fontSize\":14,\"fontWeight\":400,\"lineHeight\":\"49px\",\"margin\":0},\"children\":\"This page could not be found.\"}]}]]}]}]],\"$undefined\",[]],\"forbidden\":\"$undefined\",\"unauthorized\":\"$undefined\"}]}]\n"])</script><script>self.__next_f.push([1,"b:[[\"$\",\"meta\",\"0\",{\"charSet\":\"utf-8\"}],[\"$\",\"meta\",\"1\",{\"name\":\"viewport\",\"content\":\"width=device-width, initial-scale=1\"}]]\n8:null\n"])</script><script>self.__next_f.push([1,"9:null\nd:[[\"$\",\"title\",\"0\",{\"children\":\"My Blog\"}],[\"$\",\"meta\",\"1\",{\"name\":\"description\",\"content\":\"Sandy's Blog\"}]]\n"])</script><script>self.__next_f.push([1,"6:[\"$\",\"section\",null,{\"className\":\"flex h-full w-full flex-wrap rounded-lg bg-gray-200 p-5\",\"children\":[[\"$\",\"article\",null,{\"className\":\"flex w-full flex-wrap pb-5\",\"children\":[\"$\",\"div\",null,{\"className\":\"flex flex-1 flex-wrap gap-2\",\"children\":[[\"$\",\"h3\",null,{\"className\":\"text-lg font-semibold text-gray-800\",\"children\":\"TDD 에서의 Jest - test coverage\"}],[\"$\",\"p\",null,{\"className\":\"ml-auto text-sm text-gray-800\",\"children\":\"2025-03-23 23:50:00\"}]]}]}],[\"$\",\"article\",null,{\"className\":\"prose flex w-full flex-wrap text-gray-800\",\"children\":\"$Lf\"}]]}]\n"])</script><script>self.__next_f.push([1,"f:[[\"$\",\"h5\",null,{\"className\":\"text-lg font-normal text-gray-800\",\"children\":\"시작하기\"}],\"\\n\",[\"$\",\"p\",null,{\"children\":\"이번 주 스터디의 주제는 TDD로 정하게 되었다.\\n사실 TDD라는 주제라기보다는 TDD를 하기 위해 사용하고 있는 Jest가 주인공이긴 하지만, 이왕 하는 김에 TDD에 대한 설명도 간단하게 적어보려고 한다.\"}],\"\\n\",[\"$\",\"p\",null,{\"children\":\"우리 프로젝트는 현재 애자일 프로그래밍 개발 방법 중 XP(eXtreme Programming) 개발 방식으로 프로젝트를 진행하고 있는데,\"}],\"\\n\",[\"$\",\"p\",null,{\"children\":[\"이 XP의 실천 방법 중 하나가 바로 \",[\"$\",\"code\",null,{\"children\":\"Test Driven Development, 즉 TDD\"}],\"이다.\"]}],\"\\n\",[\"$\",\"p\",null,{\"children\":\"익스트림 프로그래밍이나 애자일에 대한 설명은 다음에 다른 글로 작성해보도록 하고, 오늘의 주제인 TDD로 넘어가 보자.\"}],\"\\n\",[\"$\",\"h3\",null,{\"className\":\"text-2xl font-medium text-red-500\",\"children\":\"TDD\"}],\"\\n\",[\"$\",\"p\",null,{\"children\":[[\"$\",\"code\",null,{\"children\":\"TDD?\"}],\" \",[\"$\",\"code\",null,{\"children\":\"Test Driven Development!\"}]]}],\"\\n\",[\"$\",\"p\",null,{\"children\":[\"이름 그대로다. 테스트 주도 개발.\\nTDD를 주도한 켄트 벡 이라는 분이 TDD를 소개한 책에서는 \",[\"$\",\"code\",null,{\"children\":\"테스트 주도 개발의 궁극적 목표는 작동하는 깔끔한 코드\"}],\"라고 한다.\"]}],\"\\n\",[\"$\",\"p\",null,{\"children\":\"작동하는 + 깔끔한 코드는 사실 개발자라면 모두 지향해야 하는 두 가지의 단어들을 모아둔 것 같은데,\"}],\"\\n\",[\"$\",\"p\",null,{\"children\":\"이러한 작동하는 깔끔한 코드를 작성하기 위해서는 3가지의 사이클을 통해서 구현할 수 있다.\"}],\"\\n\",[\"$\",\"p\",null,{\"children\":[\"아마 이 사진은 TDD를 한 번쯤 검색했다면 마주쳤을 그림이라고 생각한다.\\n\",[\"$\",\"img\",null,{\"src\":\"/posts/03/TDD.png\",\"alt\":\"TDD\"}]]}],\"\\n\",[\"$\",\"ol\",null,{\"children\":[\"\\n\",[\"$\",\"li\",null,{\"children\":\"RED: 먼저 실패하는 테스트를 작성한다.\"}],\"\\n\",[\"$\",\"li\",null,{\"children\":\"GREEN: 실패한 테스트 코드를 성공시키기 위한 실제 코드를 구현한다.\"}],\"\\n\",[\"$\",\"li\",null,{\"children\":\"BLUE: 테스트를 통과하기 위해 작성했던 잘못들을 수습하자. (리팩토링)\"}],\"\\n\"]}],\"\\n\",[\"$\",\"p\",null,{\"children\":\"지금 진행하는 프로젝트는 TDD 방식으로 구현하고 있는데, TDD에 대한 글을 작성하다 보니 내가 놓치고 있는 부분이 있다는 것을 깨닫게 되었다.\"}],\"\\n\",[\"$\",\"p\",null,{\"children\":\"두 번째 과정인 GREEN에서는 주의해야 할 점이 있는데, 실패하는 테스트는 최대한 빠르게 성공시키는 데에만 집중을 해야 한다.\\n그러다 보면 테스트 코드를 통과시키기만 위한 코드를 작성하게 되는데, 켄트 벡 아저씨는 이것을 죄악이라고 표현하기도 한다.\"}],\"\\n\",[\"$\",\"p\",null,{\"children\":\"내가 놓치고 있던 부분은 이러한 죄악을 만들지 않으려는 노력만 했기 때문에, GREEN 과정에서의 시간이 매우 많이 소요되었던 것 같다는 생각이 들었다.\"}],\"\\n\",[\"$\",\"p\",null,{\"children\":\"사실 처음 TDD에 대한 설명을 들었을 때 GREEN을 보기 위한 죄악을 저지른 이후에 BLUE 과정에서 이러한 죄악을 수습하는 과정을 거쳐야 한다는 것은 알고 있었지만,\"}],\"\\n\",[\"$\",\"p\",null,{\"children\":\"프로젝트를 진행하다 보니 스토리가 익숙한 것들도 있고, 이 작업 이후에 어떤 작업이 필요할지 파악이 가능한 단계가 되다 보니 이후를 생각한 완벽한 코드를 작성하고 싶었던 나머지 그 부분을 놓치고 있었던 것 같다.\"}],\"\\n\",[\"$\",\"p\",null,{\"children\":\"아무튼 본론으로 돌아가서, 작동하는 깔끔한 코드를 작성하자는 좋은 목표를 가진 TDD를, 그래서 다들 사용하고 있나? 라고 물어보면, 아니라는 답변이 나올 것이다.\\n주변의 개발자들만 봐도 시간도 없는데 테스트를 위한 코드를 작성해야 하는 것에 대한 필요성을 느끼지 못하는 사람들도 있었고, 그러다 보니 굳이 TDD 자체가 필요한지에 대한 것을 느끼지 못한 사람들도 있었다.\"}],\"\\n\",[\"$\",\"p\",null,{\"children\":\"하지만, TDD를 사용해 본 나의 경험에 비추어 보면, 어떠한 프로젝트를 처음부터 시작한다고 하더라도 TDD는 항상 사용할 것 같다.\"}],\"\\n\",[\"$\",\"p\",null,{\"children\":\"위에서 간단하게 말했던 TDD의 단점인 개발 속도(생산성)의 저하라든지 테스트를 위한 코드를 작성해야 한다는 점 같은 단점도 존재하긴 하지만,\\n프로젝트를 하면서 TDD의 필요성, 장점을 느낀 적이 더 많았던 것 같다.\"}],\"\\n\",[\"$\",\"p\",null,{\"children\":\"내가 느꼈던 TDD의 장점을 설명하기에 앞서 발견한 재밌는 밈이 있는데,\"}],\"\\n\",[\"$\",\"p\",null,{\"children\":[\"$\",\"img\",null,{\"src\":\"/posts/03/god.png\",\"alt\":\"only-god\"}]}],\"\\n\",[\"$\",\"p\",null,{\"children\":\"이 말대로 본인이 구현했던 코드를 하나부터 열까지 모두 기억하고 있는 사람은 많지 않을 것이라고 생각한다.\"}],\"\\n\",[\"$\",\"p\",null,{\"children\":\"일단 나조차도 기억력이 좋지 않기 때문에 한 달 전에 구현했던 기능 기억? 흐릿하게나 기억할 수는 있겠지...\"}],\"\\n\",[\"$\",\"p\",null,{\"children\":[\"그런 나에게 믿을 수 있는 건 바로 \",[\"$\",\"strong\",null,{\"children\":\"테스트 코드\"}],\"였다. 테스트 코드는 한마디로 말하자면 자세하게 쓰여 있는 기능 문서이다.\"]}],\"\\n\",[\"$\",\"p\",null,{\"children\":\"내가 어떤 기능을 테스트하기 위해 작성해 놓은 description을 보고 코드에 대한 기능들을 파악할 수 있고,\"}],\"\\n\",[\"$\",\"p\",null,{\"children\":\"추가적인 기능을 구현하더라도 그 테스트를 실패시키지 않는 코드를 구현하게 된다면 버그를 최소한으로 줄일 수 있다는 강력한 장점이 있다고 생각한다.\"}],\"\\n\",[\"$\",\"hr\",null,{}],\"\\n\",[\"$\",\"p\",null,{\"children\":\"아무튼 간단하게 TDD에 대한 생각들을 적어봤는데, 구구절절 TDD에 대한 설명을 하고 이 블로그 주제를 정하게 된 계기가 있다.\"}],\"\\n\",[\"$\",\"p\",null,{\"children\":\"나는 과연 2년 전, 응ㅇㅐ-시절인 주니어 때 처음으로 접한 TDD를 잘 하고 있나? 라는 생각과 함께,\"}],\"\\n\",[\"$\",\"p\",null,{\"children\":\"Spring Boot나 React에 대해서는 공부를 해왔던 것 같은데, 테스트 코드를 구현하는 Jest와 JUnit에 대해서는 공부량이 적었던 것 같아서 아쉬움이 들었다.\"}],\"\\n\",[\"$\",\"p\",null,{\"children\":\"그래서 이번 주제는 Jest 에 대한 것들을 알아가 보려고 하는데, 궁금한 것이 많지만 차근차근 공부해보려고 한다.\"}],\"\\n\",[\"$\",\"h3\",null,{\"className\":\"text-2xl font-medium text-red-500\",\"children\":\"Test Coverage\"}],\"\\n\",[\"$\",\"p\",null,{\"children\":\"먼저 이건 간단한 궁금증인데,\"}],\"\\n\",[\"$\",\"p\",null,{\"children\":[\"우리 프로젝트에 처음 들어왔을 때 jest 를 사용해서 테스트 할 때, \",[\"$\",\"code\",null,{\"children\":\"yarn test --coverage\"}],\" 명령어를 통해 테스트 하면 된다는 말을 전해들었었다.\"]}],\"\\n\",[\"$\",\"p\",null,{\"children\":\"그래서 그때당시에 조금 찾아봤었던 테스트 커버리지는 전체 코드에서 얼만큼의 코드가 테스트되고 있는지 나타내주는 지표라는 것과 함께\\n테스트 커버리지가 높을 수록 많은 부분이 테스트 코드로 구현되어 있으므로 사용자가 조금 더 신뢰할 수 있는 시스템이지 않을까 정도 까지만 알아보았던 것 같다.\"}],\"\\n\",[\"$\",\"p\",null,{\"children\":[\"Jest 에서는 \",[\"$\",\"code\",null,{\"children\":\"jest --coverage\"}],\" 명령어로 테스트 커버리지를 테스트 할 수 있는데,\"]}],\"\\n\",[\"$\",\"p\",null,{\"children\":[\"$\",\"img\",null,{\"src\":\"/posts/03/test-coverage.png\",\"alt\":\"test-coverage\"}]}],\"\\n\",[\"$\",\"p\",null,{\"children\":\"각각의 의미는\"}],\"\\n\",[\"$\",\"ul\",null,{\"children\":[\"\\n\",[\"$\",\"li\",null,{\"children\":\"Statements: 구문\"}],\"\\n\",[\"$\",\"li\",null,{\"children\":\"Branches: if=else 문 등 분기점\"}],\"\\n\",[\"$\",\"li\",null,{\"children\":\"Functions: 함수\"}],\"\\n\",[\"$\",\"li\",null,{\"children\":\"Lines: 코드 줄 수\"}],\"\\n\",[\"$\",\"li\",null,{\"children\":\"Uncovered Line #s: 커버되지 않은 줄 위치\"}],\"\\n\"]}],\"\\n\",[\"$\",\"p\",null,{\"children\":\"웹에서도 테스트 커버리지를 자세히 확인할 수도 있다.\"}],\"\\n\",[\"$\",\"p\",null,{\"children\":[\"$\",\"img\",null,{\"src\":\"/posts/03/test-coverage-web.png\",\"alt\":\"test-coverage-web\"}]}],\"\\n\",[\"$\",\"p\",null,{\"children\":[\"우리 서비스는 테스트 커버리지를 크게 신경쓰고 있진 않지만,\\n만약 커버리지를 조금 신경을 쓰고 최소 기준점을 정해두는 프로젝트에서는 \",[\"$\",\"code\",null,{\"children\":\"jest.config.ts\"}],\"에 \",[\"$\",\"code\",null,{\"children\":\"coverageThreshold\"}],\" 설정을 추가하고,\"]}],\"\\n\",[\"$\",\"pre\",null,{\"children\":[\"$\",\"code\",null,{\"className\":\"language-js\",\"children\":\"module.exports = {\\n  coverageThreshold: {\\n    global: {\\n      branches: 90,\\n      functions: 90,\\n      lines: 90,\\n      statements: 90,\\n    },\\n  },\\n};\\n\"}]}],\"\\n\",[\"$\",\"p\",null,{\"children\":[[\"$\",\"code\",null,{\"children\":\"jest --coverage\"}],\"를 CI/CD에 추가한다면 에러가 발생하게 되고,\"]}],\"\\n\",[\"$\",\"p\",null,{\"children\":[\"$\",\"img\",null,{\"src\":\"/posts/03/test-coverage-error.png\",\"alt\":\"test-coverage-error\"}]}],\"\\n\",[\"$\",\"p\",null,{\"children\":\"기준에 미달한 상태에서는 운영에 배포할 수 없도록 설정할 수도 있을 것이다.\"}],\"\\n\",[\"$\",\"hr\",null,{}],\"\\n\",[\"$\",\"p\",null,{\"children\":\"글을 쓰다보니 주제가 점점 넓어지는 것을 느끼는데 항상 글의 마무리가 너무 어려운 것 같다.\"}]]\n"])</script></body></html>